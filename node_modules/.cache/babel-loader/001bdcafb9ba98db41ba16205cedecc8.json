{"ast":null,"code":"var _jsxFileName = \"E:\\\\Priya\\\\reactjstv\\\\src\\\\components\\\\Gallery\\\\Gallery.js\";\nimport React, { useState, useEffect, useReducer } from 'react';\nlet asset = null;\nexport default function Gallery() {\n  const [index, setIndex] = useState(-1);\n  const [startTimtOut, setStartTimtOut] = useState(false);\n  const [timeoutObj, setTimeoutObj] = useState(0);\n  let timeObj = 0;\n  useEffect(() => {\n    getPlaylistData();\n  }, []);\n\n  async function getPlaylistData(dispatch) {\n    const response = await fetch('./play.json');\n    let json = null;\n\n    try {\n      json = await response.json();\n    } catch (r) {\n      alert(' json file not found');\n    }\n\n    if (json && json.data && json.data.assets) {\n      asset = json.data.assets;\n    }\n  }\n\n  const next = index => {\n    if (timeoutObj) {\n      clearTimeout(timeoutObj);\n      setTimeoutObj(0);\n    }\n\n    ;\n\n    if (!asset) {\n      timeObj = setTimeout(function () {\n        next();\n      }, 1000);\n      setTimeoutObj(timeObj);\n    } else {\n      index = index !== undefined ? index : 0;\n      setIndex(index);\n      index = index + 1;\n\n      if (index == asset.length) {\n        index = 0;\n      }\n\n      timeObj = setTimeout(function () {\n        next(index);\n      }, 5000);\n      setTimeoutObj(timeObj);\n    }\n  };\n\n  const startTimer = () => {\n    if (!startTimtOut) {\n      setStartTimtOut(true);\n      next();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, console.log(asset), asset && asset[index] && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: asset[index].filename,\n    height: \"20%\",\n    width: \"40%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 36\n    }\n  })), startTimer());\n}","map":{"version":3,"sources":["E:/Priya/reactjstv/src/components/Gallery/Gallery.js"],"names":["React","useState","useEffect","useReducer","asset","Gallery","index","setIndex","startTimtOut","setStartTimtOut","timeoutObj","setTimeoutObj","timeObj","getPlaylistData","dispatch","response","fetch","json","r","alert","data","assets","next","clearTimeout","setTimeout","undefined","length","startTimer","console","log","filename"],"mappings":";AAAA,OAAOA,KAAP,IAAiBC,QAAjB,EAA2BC,SAA3B,EAAsCC,UAAtC,QAAwD,OAAxD;AAGA,IAAIC,KAAK,GAAG,IAAZ;AAEA,eAAe,SAASC,OAAT,GAAmB;AAEhC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,CAAC,CAAF,CAAlC;AACA,QAAM,CAACO,YAAD,EAAeC,eAAf,IAAkCR,QAAQ,CAAC,KAAD,CAAhD;AAEA,QAAM,CAACS,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAC,CAAD,CAA5C;AACA,MAAIW,OAAO,GAAG,CAAd;AACAV,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,eAAe;AAEhB,GAHQ,EAGP,EAHO,CAAT;;AAIA,iBAAeA,eAAf,CAAgCC,QAAhC,EAA0C;AAExC,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,aAAD,CAA5B;AACA,QAAIC,IAAI,GAAG,IAAX;;AACA,QAAG;AACDA,MAAAA,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAT,EAAb;AACD,KAFD,CAEC,OAAMC,CAAN,EAAQ;AACPC,MAAAA,KAAK,CAAC,sBAAD,CAAL;AACD;;AACD,QAAIF,IAAI,IAAIA,IAAI,CAACG,IAAb,IAAqBH,IAAI,CAACG,IAAL,CAAUC,MAAnC,EAA0C;AACxCjB,MAAAA,KAAK,GAAGa,IAAI,CAACG,IAAL,CAAUC,MAAlB;AAED;AACF;;AAGD,QAAMC,IAAI,GAAEhB,KAAD,IAAS;AAClB,QAAII,UAAJ,EAAgB;AAACa,MAAAA,YAAY,CAACb,UAAD,CAAZ;AAA0BC,MAAAA,aAAa,CAAC,CAAD,CAAb;AAAiB;;AAAA;;AAC5D,QAAI,CAACP,KAAL,EAAW;AACTQ,MAAAA,OAAO,GAAGY,UAAU,CAAC,YAAW;AAAEF,QAAAA,IAAI;AAAG,OAArB,EAAuB,IAAvB,CAApB;AACAX,MAAAA,aAAa,CAACC,OAAD,CAAb;AACD,KAHD,MAGK;AAGHN,MAAAA,KAAK,GAAIA,KAAK,KAAImB,SAAV,GAAsBnB,KAAtB,GAA6B,CAArC;AACAC,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACAA,MAAAA,KAAK,GAAGA,KAAK,GAAC,CAAd;;AACA,UAAKA,KAAK,IAAGF,KAAK,CAACsB,MAAnB,EAA0B;AACxBpB,QAAAA,KAAK,GAAG,CAAR;AACD;;AAEDM,MAAAA,OAAO,GAAGY,UAAU,CAAC,YAAW;AAAEF,QAAAA,IAAI,CAAChB,KAAD,CAAJ;AAAY,OAA1B,EAA4B,IAA5B,CAApB;AACAK,MAAAA,aAAa,CAACC,OAAD,CAAb;AACD;AACF,GAlBD;;AAmBA,QAAMe,UAAU,GAAG,MAAI;AACrB,QAAI,CAACnB,YAAL,EAAkB;AAChBC,MAAAA,eAAe,CAAC,IAAD,CAAf;AACAa,MAAAA,IAAI;AACL;AACF,GALD;;AAMA,sBACE,0CACEM,OAAO,CAACC,GAAR,CAAYzB,KAAZ,CADF,EAIAA,KAAK,IAAIA,KAAK,CAACE,KAAD,CAAd,iBAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK;AAAK,IAAA,GAAG,EAAEF,KAAK,CAACE,KAAD,CAAL,CAAawB,QAAvB;AAAiC,IAAA,MAAM,EAAC,KAAxC;AAA8C,IAAA,KAAK,EAAC,KAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAL,CAJ1B,EAMAH,UAAU,EANV,CADF;AAUD","sourcesContent":["import React , { useState, useEffect, useReducer } from 'react';\r\n\r\n\r\nlet asset = null;\r\n\r\nexport default function Gallery() {\r\n  \r\n  const [index, setIndex] = useState(-1);\r\n  const [startTimtOut, setStartTimtOut] = useState(false);\r\n\r\n  const [timeoutObj, setTimeoutObj] = useState(0);\r\n  let timeObj = 0;\r\n  useEffect(() => {\r\n    getPlaylistData()\r\n\r\n  },[]);\r\n  async function getPlaylistData (dispatch) {\r\n\r\n    const response = await fetch('./play.json');\r\n    let json = null;\r\n    try{\r\n      json = await response.json();\r\n    }catch(r){\r\n      alert(' json file not found')\r\n    }\r\n    if (json && json.data && json.data.assets){\r\n      asset = json.data.assets;\r\n\r\n    }\r\n  }\r\n\r\n\r\n  const next=(index)=>{\r\n    if (timeoutObj) {clearTimeout(timeoutObj); setTimeoutObj(0)};\r\n    if (!asset){\r\n      timeObj = setTimeout(function() { next()}, 1000);\r\n      setTimeoutObj(timeObj)\r\n    }else{\r\n\r\n\r\n      index = (index !==undefined)? index: 0;\r\n      setIndex(index);\r\n      index = index+1;\r\n      if ( index== asset.length){\r\n        index = 0;\r\n      }\r\n      \r\n      timeObj = setTimeout(function() { next(index)}, 5000);\r\n      setTimeoutObj(timeObj)\r\n    }\r\n  }\r\n  const startTimer = ()=>{\r\n    if (!startTimtOut){\r\n      setStartTimtOut(true);\r\n      next();\r\n    }\r\n  }\r\n  return (\r\n    <>{\r\n      console.log(asset)\r\n    }\r\n\r\n   {asset && asset[index] && (<div><img src={asset[index].filename} height=\"20%\" width=\"40%\" /></div>)}\r\n   \r\n   {startTimer()}\r\n    </>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}